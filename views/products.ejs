<!DOCTYPE html>
<html lang="en">
<head>
    <%- include('partials/head'); %>
    <link rel="stylesheet" href="css/products.css">
</head>
<body class="body">
    <%- include('partials/navbar'); %>

    <!-- Products -->

<div class="container-fluid">
    <div class="row">

    
     
      <nav id="sidebarMenu" class="col-md-3 col-lg-2 d-md-block bg-light sidebar collapse">
        <div class="position-sticky pt-3">
          <div class="nav flex-column">
            <h3 class="margin-category" style="font-family: 'Arial', cursive; font-size: 28px; font-weight: 900; color: rgb(125, 78, 36);">Catégorie</h3>
            <div class="p-1">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                <label class="form-check-label" for="flexCheckDefault">
                  Miel
                </label>
              </div>
            </div>
            <div class="p-1">
              <div class="form-check">
              <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
              <label class="form-check-label" for="flexCheckDefault">
                  Snacks
              </label>
              </div>
            </div>
            <div class="p-1">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                <label class="form-check-label" for="flexCheckDefault">
                  Achard & Piment
                </label>
              </div>
            </div>
            <div class="p-1">
              <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
                <label class="form-check-label" for="flexCheckDefault">
                  Charcuterie
                </label>
              </div>
            </div>
          </div>
        </div>
      </nav>
  
      <main class="col-md-9 ms-sm-auto col-lg-10 px-md-4">
        <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
          <h1 class="h2 orange" style="font-family: 'Arial', cursive; font-size: 28px; font-weight: 900; color: rgb(125, 78, 36);">Produits</h1>
        </div>

        <div class="table-responsive">
            <div class=" p-2 d-flex justify-content-start flex-wrap">
                <%  if (productMenu.length != 0) { %>
                    <% productMenu.forEach((product,index) => { %>
                      <a href="product_description/<%=product.product_id%>" style="text-decoration: none; color:black">
                        <div class="card m-2" style="width: 18rem;">
                            <div class="img_product">
                              <img src="<%=product.picture%>" class="card-img-top" >
                            </div>
                            <div class="card-body">
                              <h5 class="card-title"><%=product.product_name_fr%></h5>
                              <h6>(<%= product.unit %>)</h6>
                              <p class="card-text">Rs<%=product.price%></p>
                              <% if (product.unit_in_stock === 0) { %>
                                <p class="card-text">
                                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-x" viewBox="0 0 16 16"><path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/></svg>
                                  Out of stock
                                </p>
                              <% } else { %> 
                                <p class="card-text"><b><%=product.unit_in_stock%></b> en stock</p>
                              <% } %> 
                              <div class="shop_btn">
                                <a href="product_description/<%=product.product_id%>" class="btn btn-primary">Détails</a>
                              </div>
                            </div>
                        </div>
                      </a>
                  <% }) %>
                <% } %>
              </div>
        </div>
      </main>
    </div>
  </div>

  <%- include('partials/footer.ejs'); %>
    

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>


</body>
</html>